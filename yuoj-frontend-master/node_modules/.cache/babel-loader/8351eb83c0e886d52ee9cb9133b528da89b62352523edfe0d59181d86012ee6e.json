{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n  if (invalidZErrorLogged) {\n    return;\n  }\n  invalidZErrorLogged = true;\n  console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n  if (a.zlevel === b.zlevel) {\n    if (a.z === b.z) {\n      return a.z2 - b.z2;\n    }\n    return a.z - b.z;\n  }\n  return a.zlevel - b.zlevel;\n}\nvar Storage = function () {\n  function Storage() {\n    this._roots = [];\n    this._displayList = [];\n    this._displayListLen = 0;\n    this.displayableSortFunc = shapeCompareFunc;\n  }\n  Storage.prototype.traverse = function (cb, context) {\n    for (var i = 0; i < this._roots.length; i++) {\n      this._roots[i].traverse(cb, context);\n    }\n  };\n  Storage.prototype.getDisplayList = function (update, includeIgnore) {\n    includeIgnore = includeIgnore || false;\n    var displayList = this._displayList;\n    if (update || !displayList.length) {\n      this.updateDisplayList(includeIgnore);\n    }\n    return displayList;\n  };\n  Storage.prototype.updateDisplayList = function (includeIgnore) {\n    this._displayListLen = 0;\n    var roots = this._roots;\n    var displayList = this._displayList;\n    for (var i = 0, len = roots.length; i < len; i++) {\n      this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n    }\n    displayList.length = this._displayListLen;\n    timsort(displayList, shapeCompareFunc);\n  };\n  Storage.prototype._updateAndAddDisplayable = function (el, parentClipPaths, includeIgnore) {\n    if (el.ignore && !includeIgnore) {\n      return;\n    }\n    el.beforeUpdate();\n    el.update();\n    el.afterUpdate();\n    var userSetClipPath = el.getClipPath();\n    var parentHasClipPaths = parentClipPaths && parentClipPaths.length;\n    var clipPathIdx = 0;\n    var thisClipPaths = el.__clipPaths;\n    if (!el.ignoreClip && (parentHasClipPaths || userSetClipPath)) {\n      if (!thisClipPaths) {\n        thisClipPaths = el.__clipPaths = [];\n      }\n      if (parentHasClipPaths) {\n        for (var idx = 0; idx < parentClipPaths.length; idx++) {\n          thisClipPaths[clipPathIdx++] = parentClipPaths[idx];\n        }\n      }\n      var currentClipPath = userSetClipPath;\n      var parentClipPath = el;\n      while (currentClipPath) {\n        currentClipPath.parent = parentClipPath;\n        currentClipPath.updateTransform();\n        thisClipPaths[clipPathIdx++] = currentClipPath;\n        parentClipPath = currentClipPath;\n        currentClipPath = currentClipPath.getClipPath();\n      }\n    }\n    if (thisClipPaths) {\n      thisClipPaths.length = clipPathIdx;\n    }\n    if (el.childrenRef) {\n      var children = el.childrenRef();\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (el.__dirty) {\n          child.__dirty |= REDRAW_BIT;\n        }\n        this._updateAndAddDisplayable(child, thisClipPaths, includeIgnore);\n      }\n      el.__dirty = 0;\n    } else {\n      var disp = el;\n      if (isNaN(disp.z)) {\n        logInvalidZError();\n        disp.z = 0;\n      }\n      if (isNaN(disp.z2)) {\n        logInvalidZError();\n        disp.z2 = 0;\n      }\n      if (isNaN(disp.zlevel)) {\n        logInvalidZError();\n        disp.zlevel = 0;\n      }\n      this._displayList[this._displayListLen++] = disp;\n    }\n    var decalEl = el.getDecalElement && el.getDecalElement();\n    if (decalEl) {\n      this._updateAndAddDisplayable(decalEl, thisClipPaths, includeIgnore);\n    }\n    var textGuide = el.getTextGuideLine();\n    if (textGuide) {\n      this._updateAndAddDisplayable(textGuide, thisClipPaths, includeIgnore);\n    }\n    var textEl = el.getTextContent();\n    if (textEl) {\n      this._updateAndAddDisplayable(textEl, thisClipPaths, includeIgnore);\n    }\n  };\n  Storage.prototype.addRoot = function (el) {\n    if (el.__zr && el.__zr.storage === this) {\n      return;\n    }\n    this._roots.push(el);\n  };\n  Storage.prototype.delRoot = function (el) {\n    if (el instanceof Array) {\n      for (var i = 0, l = el.length; i < l; i++) {\n        this.delRoot(el[i]);\n      }\n      return;\n    }\n    var idx = util.indexOf(this._roots, el);\n    if (idx >= 0) {\n      this._roots.splice(idx, 1);\n    }\n  };\n  Storage.prototype.delAllRoots = function () {\n    this._roots = [];\n    this._displayList = [];\n    this._displayListLen = 0;\n    return;\n  };\n  Storage.prototype.getRoots = function () {\n    return this._roots;\n  };\n  Storage.prototype.dispose = function () {\n    this._displayList = null;\n    this._roots = null;\n  };\n  return Storage;\n}();\nexport default Storage;","map":{"version":3,"names":["util","timsort","REDRAW_BIT","invalidZErrorLogged","logInvalidZError","console","warn","shapeCompareFunc","a","b","zlevel","z","z2","Storage","_roots","_displayList","_displayListLen","displayableSortFunc","prototype","traverse","cb","context","i","length","getDisplayList","update","includeIgnore","displayList","updateDisplayList","roots","len","_updateAndAddDisplayable","el","parentClipPaths","ignore","beforeUpdate","afterUpdate","userSetClipPath","getClipPath","parentHasClipPaths","clipPathIdx","thisClipPaths","__clipPaths","ignoreClip","idx","currentClipPath","parentClipPath","parent","updateTransform","childrenRef","children","child","__dirty","disp","isNaN","decalEl","getDecalElement","textGuide","getTextGuideLine","textEl","getTextContent","addRoot","__zr","storage","push","delRoot","Array","l","indexOf","splice","delAllRoots","getRoots","dispose"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/zrender/lib/Storage.js"],"sourcesContent":["import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, parentClipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        var parentHasClipPaths = parentClipPaths && parentClipPaths.length;\n        var clipPathIdx = 0;\n        var thisClipPaths = el.__clipPaths;\n        if (!el.ignoreClip\n            && (parentHasClipPaths || userSetClipPath)) {\n            if (!thisClipPaths) {\n                thisClipPaths = el.__clipPaths = [];\n            }\n            if (parentHasClipPaths) {\n                for (var idx = 0; idx < parentClipPaths.length; idx++) {\n                    thisClipPaths[clipPathIdx++] = parentClipPaths[idx];\n                }\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                thisClipPaths[clipPathIdx++] = currentClipPath;\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (thisClipPaths) {\n            thisClipPaths.length = clipPathIdx;\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, thisClipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, thisClipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, thisClipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, thisClipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}