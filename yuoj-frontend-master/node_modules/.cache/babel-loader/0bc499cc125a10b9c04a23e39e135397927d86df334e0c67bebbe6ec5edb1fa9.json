{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { expandOrShrinkRect } from '../../util/graphic.js';\nimport { injectCoordSysByOption, simpleCoordSysInjectionProvider } from '../../core/CoordinateSystem.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n    this._update(ecModel, api);\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype._update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      out[0] = out[1] = NaN;\n      return out;\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      out[0] = this._rect.x + week * this._sw + this._sw / 2;\n      out[1] = this._rect.y + nthWeek * this._sh + this._sh / 2;\n    } else {\n      out[0] = this._rect.x + nthWeek * this._sw + this._sw / 2;\n      out[1] = this._rect.y + week * this._sh + this._sh / 2;\n    }\n    return out;\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  Calendar.prototype.dataToLayout = function (data, clamp, out) {\n    out = out || {};\n    var rect = out.rect = out.rect || {};\n    var contentRect = out.contentRect = out.contentRect || {};\n    var point = this.dataToPoint(data, clamp);\n    rect.x = point[0] - this._sw / 2;\n    rect.y = point[1] - this._sh / 2;\n    rect.width = this._sw;\n    rect.height = this._sh;\n    BoundingRect.copy(contentRect, rect);\n    expandOrShrinkRect(contentRect, this._lineWidth / 2, true, true);\n    return out;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n  Calendar.prototype.dataToCalendarLayout = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertToLayout = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToLayout(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    // Inject coordinate system\n    ecModel.eachComponent(function (mainType, componentModel) {\n      injectCoordSysByOption({\n        targetModel: componentModel,\n        coordSysType: 'calendar',\n        coordSysProvider: simpleCoordSysInjectionProvider\n      });\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","map":{"version":3,"names":["zrUtil","layout","numberUtil","BoundingRect","expandOrShrinkRect","injectCoordSysByOption","simpleCoordSysInjectionProvider","PROXIMATE_ONE_DAY","Calendar","calendarModel","ecModel","api","type","dimensions","getDimensionsInfo","_model","_update","name","prototype","getRangeInfo","_rangeInfo","getModel","getRect","_rect","getCellWidth","_sw","getCellHeight","_sh","getOrient","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","date","parseDate","y","getFullYear","m","getMonth","mStr","d","getDate","dStr","day","getDay","Math","abs","time","getTime","formatedDate","getNextNDay","n","Date","setDate","get","_lineWidth","getItemStyle","lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","cellSize","getCellSize","slice","layoutParams","getBoxLayoutParams","cellNumbers","each","idx","cellSizeSpecified","whGlobal","width","getWidth","height","getHeight","calendarRect","getLayoutRect","dataToPoint","data","clamp","out","isArray","dayInfo","range","start","end","NaN","week","nthWeek","x","pointToData","point","pointToDate","dataToLayout","rect","contentRect","copy","dataToCalendarLayout","center","tl","tr","br","bl","nthX","floor","nthY","_getDateByWeeksAndDay","convertToPixel","finder","value","coordSys","getCoordSys","convertToLayout","convertFromPixel","pixel","containPoint","console","warn","normalizedRange","length","rangeStr","toString","test","firstDay","setMonth","process","env","NODE_ENV","logError","tmp","reverse","parsedRange","reversed","allDay","startDateNum","endDateNum","dateNum","sign","fweek","lweek","rangeInfo","nthDay","create","calendarList","eachComponent","calendar","push","coordinateSystem","mainType","componentModel","targetModel","coordSysType","coordSysProvider","seriesModel"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/echarts/lib/coord/calendar/Calendar.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { expandOrShrinkRect } from '../../util/graphic.js';\nimport { injectCoordSysByOption, simpleCoordSysInjectionProvider } from '../../core/CoordinateSystem.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n    this._update(ecModel, api);\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype._update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      out[0] = out[1] = NaN;\n      return out;\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      out[0] = this._rect.x + week * this._sw + this._sw / 2;\n      out[1] = this._rect.y + nthWeek * this._sh + this._sh / 2;\n    } else {\n      out[0] = this._rect.x + nthWeek * this._sw + this._sw / 2;\n      out[1] = this._rect.y + week * this._sh + this._sh / 2;\n    }\n    return out;\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  Calendar.prototype.dataToLayout = function (data, clamp, out) {\n    out = out || {};\n    var rect = out.rect = out.rect || {};\n    var contentRect = out.contentRect = out.contentRect || {};\n    var point = this.dataToPoint(data, clamp);\n    rect.x = point[0] - this._sw / 2;\n    rect.y = point[1] - this._sh / 2;\n    rect.width = this._sw;\n    rect.height = this._sh;\n    BoundingRect.copy(contentRect, rect);\n    expandOrShrinkRect(contentRect, this._lineWidth / 2, true, true);\n    return out;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n  Calendar.prototype.dataToCalendarLayout = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertToLayout = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToLayout(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    // Inject coordinate system\n    ecModel.eachComponent(function (mainType, componentModel) {\n      injectCoordSysByOption({\n        targetModel: componentModel,\n        coordSysType: 'calendar',\n        coordSysProvider: simpleCoordSysInjectionProvider\n      });\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}