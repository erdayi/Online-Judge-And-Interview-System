{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport Model from '../../model/Model.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vectorUtil from 'zrender/lib/core/vector.js';\nimport { subPixelOptimize } from 'zrender/lib/graphic/helper/subPixelOptimize.js';\nimport { Rect, Line, XY, setTooltipConfig, expandOrShrinkRect } from '../../util/graphic.js';\nimport { clearTmpModel, ListIterator } from '../../util/model.js';\nimport { clone, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { setLabelStyle } from '../../label/labelStyle.js';\nvar round = Math.round;\nvar Z2_BACKGROUND = 0;\nvar Z2_OUTER_BORDER = 99;\nvar Z2_BODY_CORNER_CELL_DEFAULT = {\n  normal: 25,\n  special: 100\n};\nvar Z2_DIMENSION_CELL_DEFAULT = {\n  normal: 50,\n  special: 125\n};\nvar MatrixView = /** @class */function (_super) {\n  __extends(MatrixView, _super);\n  function MatrixView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MatrixView.type;\n    return _this;\n  }\n  MatrixView.prototype.render = function (matrixModel, ecModel) {\n    this.group.removeAll();\n    var group = this.group;\n    var coordSys = matrixModel.coordinateSystem;\n    var rect = coordSys.getRect();\n    var xDimModel = matrixModel.getDimensionModel('x');\n    var yDimModel = matrixModel.getDimensionModel('y');\n    var xDim = xDimModel.dim;\n    var yDim = yDimModel.dim;\n    // PENDING:\n    //  reuse the existing text and rect elements for performance?\n    renderDimensionCells(group, matrixModel, ecModel);\n    createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel);\n    var borderZ2Option = matrixModel.getShallow('borderZ2', true);\n    var outerBorderZ2 = retrieve2(borderZ2Option, Z2_OUTER_BORDER);\n    var dividerLineZ2 = outerBorderZ2 - 1;\n    // Outer border and overall background. Use separate elements because of z-order:\n    // The overall background should appear below any other elements.\n    // But in most cases, the outer border and the divider line should be above the normal cell borders -\n    // especially when cell borders have different colors. But users may highlight some specific cells by\n    // overstirking their border, in which case it should be above the outer border.\n    var bgStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['borderWidth']);\n    bgStyle.lineWidth = 0;\n    var borderStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['color', 'decal', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']);\n    borderStyle.fill = 'none';\n    var bgRect = createMatrixRect(rect.clone(), bgStyle, Z2_BACKGROUND);\n    var borderRect = createMatrixRect(rect.clone(), borderStyle, outerBorderZ2);\n    bgRect.silent = true;\n    borderRect.silent = true;\n    group.add(bgRect);\n    group.add(borderRect);\n    // Header split line.\n    var xDimCell0 = xDim.getUnitLayoutInfo(0, 0);\n    var yDimCell0 = yDim.getUnitLayoutInfo(1, 0);\n    if (xDimCell0 && yDimCell0) {\n      if (xDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: rect.x,\n          y1: yDimCell0.xy,\n          x2: rect.x + rect.width,\n          y2: yDimCell0.xy\n        }, xDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n      if (yDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: xDimCell0.xy,\n          y1: rect.y,\n          x2: xDimCell0.xy,\n          y2: rect.y + rect.height\n        }, yDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n    }\n  };\n  MatrixView.type = 'matrix';\n  return MatrixView;\n}(ComponentView);\nfunction renderDimensionCells(group, matrixModel, ecModel) {\n  renderOnDimension(0);\n  renderOnDimension(1);\n  function renderOnDimension(dimIdx) {\n    var thisDimModel = matrixModel.getDimensionModel(XY[dimIdx]);\n    var thisDim = thisDimModel.dim;\n    if (!thisDim.shouldShow()) {\n      return;\n    }\n    var thisDimBgStyleModel = thisDimModel.getModel('itemStyle');\n    var thisDimLabelModel = thisDimModel.getModel('label');\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    var xyLocator = [];\n    for (var it_1 = thisDim.resetCellIterator(); it_1.next();) {\n      var dimCell = it_1.item;\n      var shape = {};\n      BoundingRect.copy(shape, dimCell.rect);\n      vectorUtil.set(xyLocator, dimCell.id.x, dimCell.id.y);\n      createMatrixCell(xyLocator, matrixModel, group, ecModel, dimCell.option, thisDimBgStyleModel, thisDimLabelModel, thisDimModel, shape, dimCell.option.value, Z2_DIMENSION_CELL_DEFAULT, tooltipOption);\n    }\n  }\n}\nfunction createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel) {\n  createBodyOrCornerCells('body', matrixModel.getBody(), xDim, yDim);\n  if (xDim.shouldShow() && yDim.shouldShow()) {\n    createBodyOrCornerCells('corner', matrixModel.getCorner(), yDim, xDim);\n  }\n  function createBodyOrCornerCells(bodyCornerOptionRoot, bodyOrCorner, dimForCoordX,\n  // Can be `matrix.y` (transposed) for corners.\n  dimForCoordY) {\n    // Prevent inheriting from ancestor.\n    var parentCellModel = new Model(matrixModel.getShallow(bodyCornerOptionRoot, true));\n    var parentItemStyleModel = parentCellModel.getModel('itemStyle');\n    var parentLabelModel = parentCellModel.getModel('label');\n    var itx = new ListIterator();\n    var ity = new ListIterator();\n    var xyLocator = [];\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    for (dimForCoordY.resetLayoutIterator(ity, 1); ity.next();) {\n      for (dimForCoordX.resetLayoutIterator(itx, 0); itx.next();) {\n        var xLayout = itx.item;\n        var yLayout = ity.item;\n        vectorUtil.set(xyLocator, xLayout.id.x, yLayout.id.y);\n        var bodyCornerCell = bodyOrCorner.getCell(xyLocator);\n        // If in span of an other body or corner cell, never render it.\n        if (bodyCornerCell && bodyCornerCell.inSpanOf && bodyCornerCell.inSpanOf !== bodyCornerCell) {\n          continue;\n        }\n        var shape = {};\n        if (bodyCornerCell && bodyCornerCell.span) {\n          BoundingRect.copy(shape, bodyCornerCell.spanRect);\n        } else {\n          xLayout.dim.getLayout(shape, 0, xyLocator[0]);\n          yLayout.dim.getLayout(shape, 1, xyLocator[1]);\n        }\n        var bodyCornerCellOption = bodyCornerCell ? bodyCornerCell.option : null;\n        createMatrixCell(xyLocator, matrixModel, group, ecModel, bodyCornerCellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, bodyCornerCellOption ? bodyCornerCellOption.value : null, Z2_BODY_CORNER_CELL_DEFAULT, tooltipOption);\n      }\n    }\n  } // End of createBodyOrCornerCells\n}\n\nfunction createMatrixCell(xyLocator, matrixModel, group, ecModel, cellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, textValue, zrCellDefault, tooltipOption) {\n  var _a;\n  // Do not use getModel for handy performance optimization.\n  _tmpCellItemStyleModel.option = cellOption ? cellOption.itemStyle : null;\n  _tmpCellItemStyleModel.parentModel = parentItemStyleModel;\n  _tmpCellModel.option = cellOption;\n  _tmpCellModel.parentModel = parentCellModel;\n  // Use different z2 because special border may be defined in itemStyle.\n  var z2 = retrieve2(_tmpCellModel.getShallow('z2'), cellOption && cellOption.itemStyle ? zrCellDefault.special : zrCellDefault.normal);\n  var tooltipOptionShow = tooltipOption && tooltipOption.show;\n  var cellRect = createMatrixRect(shape, _tmpCellItemStyleModel.getItemStyle(), z2);\n  group.add(cellRect);\n  var cursorOption = _tmpCellModel.get('cursor');\n  if (cursorOption != null) {\n    cellRect.attr('cursor', cursorOption);\n  }\n  var cellText;\n  if (textValue != null) {\n    var text = textValue + '';\n    _tmpCellLabelModel.option = cellOption ? cellOption.label : null;\n    _tmpCellLabelModel.parentModel = parentLabelModel;\n    // This is to accept `option.textStyle` as the default.\n    _tmpCellLabelModel.ecModel = ecModel;\n    setLabelStyle(cellRect,\n    // Currently do not support other states (`emphasis`, `select`, `blur`)\n    {\n      normal: _tmpCellLabelModel\n    }, {\n      defaultText: text,\n      autoOverflowArea: true,\n      // By default based on boundingRect. But boundingRect contains borderWidth,\n      // and borderWidth is half outside the cell. Thus specific `layoutRect` explicitly.\n      layoutRect: clone(cellRect.shape)\n    });\n    cellText = cellRect.getTextContent();\n    if (cellText) {\n      cellText.z2 = z2 + 1;\n      var style = cellText.style;\n      if (style && style.overflow && style.overflow !== 'none' && style.lineOverflow) {\n        // `overflow: 'break'/'breakAll'/'truncate'` does not guarantee prevention of overflow\n        // when space is insufficient. Use a `clipPath` in such case.\n        var clipShape = {};\n        BoundingRect.copy(clipShape, shape);\n        // `lineWidth` is half outside half inside the bounding rect.\n        expandOrShrinkRect(clipShape, (((_a = cellRect.style) === null || _a === void 0 ? void 0 : _a.lineWidth) || 0) / 2, true, true);\n        cellRect.updateInnerText();\n        cellText.getLocalTransform(_tmpInnerTextTrans);\n        invert(_tmpInnerTextTrans, _tmpInnerTextTrans);\n        BoundingRect.applyTransform(clipShape, clipShape, _tmpInnerTextTrans);\n        cellText.setClipPath(new Rect({\n          shape: clipShape\n        }));\n      }\n    }\n    setTooltipConfig({\n      el: cellRect,\n      componentModel: matrixModel,\n      itemName: text,\n      itemTooltipOption: tooltipOption,\n      formatterParamsExtra: {\n        xyLocator: xyLocator.slice()\n      }\n    });\n  }\n  // Set silent\n  if (cellText) {\n    var labelSilent = _tmpCellLabelModel.get('silent');\n    // auto, tooltip of text cells need silient: false, but non-text cells\n    // do not need a special cursor in most cases.\n    if (labelSilent == null) {\n      labelSilent = !tooltipOptionShow;\n    }\n    cellText.silent = labelSilent;\n    cellText.ignoreHostSilent = true;\n  }\n  var rectSilent = _tmpCellModel.get('silent');\n  if (rectSilent == null) {\n    rectSilent =\n    // If no background color in cell, set `rect.silent: false` will cause that only\n    // the border response to mouse hovering, which is probably weird.\n    !cellRect.style || cellRect.style.fill === 'none' || !cellRect.style.fill;\n  }\n  cellRect.silent = rectSilent;\n  clearTmpModel(_tmpCellModel);\n  clearTmpModel(_tmpCellItemStyleModel);\n  clearTmpModel(_tmpCellLabelModel);\n}\nvar _tmpCellModel = new Model();\nvar _tmpCellItemStyleModel = new Model();\nvar _tmpCellLabelModel = new Model();\nvar _tmpInnerTextTrans = [];\n// FIXME: move all of the subpixel process to Matrix.ts resize, otherwise the result of\n// `dataToLayout` is not consistent with this rendering, and the caller (like heatmap) can\n// not precisely align with the matrix border.\nfunction createMatrixRect(shape, style, z2) {\n  // Currently `subPixelOptimizeRect` can not be used here because it will break rect alignment.\n  // Optimize line and rect with the same direction.\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    var x2Original = shape.x + shape.width;\n    var y2Original = shape.y + shape.height;\n    shape.x = subPixelOptimize(shape.x, lineWidth, true);\n    shape.y = subPixelOptimize(shape.y, lineWidth, true);\n    shape.width = subPixelOptimize(x2Original, lineWidth, true) - shape.x;\n    shape.height = subPixelOptimize(y2Original, lineWidth, true) - shape.y;\n  }\n  return new Rect({\n    shape: shape,\n    style: style,\n    z2: z2\n  });\n}\nfunction createMatrixLine(shape, style, z2) {\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n      shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n    }\n    if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n      shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n    }\n  }\n  return new Line({\n    shape: shape,\n    style: style,\n    silent: true,\n    z2: z2\n  });\n}\nexport default MatrixView;","map":{"version":3,"names":["__extends","ComponentView","Model","BoundingRect","vectorUtil","subPixelOptimize","Rect","Line","XY","setTooltipConfig","expandOrShrinkRect","clearTmpModel","ListIterator","clone","retrieve2","invert","setLabelStyle","round","Math","Z2_BACKGROUND","Z2_OUTER_BORDER","Z2_BODY_CORNER_CELL_DEFAULT","normal","special","Z2_DIMENSION_CELL_DEFAULT","MatrixView","_super","_this","apply","arguments","type","prototype","render","matrixModel","ecModel","group","removeAll","coordSys","coordinateSystem","rect","getRect","xDimModel","getDimensionModel","yDimModel","xDim","dim","yDim","renderDimensionCells","createBodyAndCorner","borderZ2Option","getShallow","outerBorderZ2","dividerLineZ2","bgStyle","getModel","getItemStyle","lineWidth","borderStyle","fill","bgRect","createMatrixRect","borderRect","silent","add","xDimCell0","getUnitLayoutInfo","yDimCell0","shouldShow","createMatrixLine","x1","x","y1","xy","x2","width","y2","getLineStyle","y","height","renderOnDimension","dimIdx","thisDimModel","thisDim","thisDimBgStyleModel","thisDimLabelModel","tooltipOption","xyLocator","it_1","resetCellIterator","next","dimCell","item","shape","copy","set","id","createMatrixCell","option","value","createBodyOrCornerCells","getBody","getCorner","bodyCornerOptionRoot","bodyOrCorner","dimForCoordX","dimForCoordY","parentCellModel","parentItemStyleModel","parentLabelModel","itx","ity","resetLayoutIterator","xLayout","yLayout","bodyCornerCell","getCell","inSpanOf","span","spanRect","getLayout","bodyCornerCellOption","cellOption","textValue","zrCellDefault","_a","_tmpCellItemStyleModel","itemStyle","parentModel","_tmpCellModel","z2","tooltipOptionShow","show","cellRect","cursorOption","get","attr","cellText","text","_tmpCellLabelModel","label","defaultText","autoOverflowArea","layoutRect","getTextContent","style","overflow","lineOverflow","clipShape","updateInnerText","getLocalTransform","_tmpInnerTextTrans","applyTransform","setClipPath","el","componentModel","itemName","itemTooltipOption","formatterParamsExtra","slice","labelSilent","ignoreHostSilent","rectSilent","x2Original","y2Original"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/echarts/lib/component/matrix/MatrixView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport Model from '../../model/Model.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vectorUtil from 'zrender/lib/core/vector.js';\nimport { subPixelOptimize } from 'zrender/lib/graphic/helper/subPixelOptimize.js';\nimport { Rect, Line, XY, setTooltipConfig, expandOrShrinkRect } from '../../util/graphic.js';\nimport { clearTmpModel, ListIterator } from '../../util/model.js';\nimport { clone, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { setLabelStyle } from '../../label/labelStyle.js';\nvar round = Math.round;\nvar Z2_BACKGROUND = 0;\nvar Z2_OUTER_BORDER = 99;\nvar Z2_BODY_CORNER_CELL_DEFAULT = {\n  normal: 25,\n  special: 100\n};\nvar Z2_DIMENSION_CELL_DEFAULT = {\n  normal: 50,\n  special: 125\n};\nvar MatrixView = /** @class */function (_super) {\n  __extends(MatrixView, _super);\n  function MatrixView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MatrixView.type;\n    return _this;\n  }\n  MatrixView.prototype.render = function (matrixModel, ecModel) {\n    this.group.removeAll();\n    var group = this.group;\n    var coordSys = matrixModel.coordinateSystem;\n    var rect = coordSys.getRect();\n    var xDimModel = matrixModel.getDimensionModel('x');\n    var yDimModel = matrixModel.getDimensionModel('y');\n    var xDim = xDimModel.dim;\n    var yDim = yDimModel.dim;\n    // PENDING:\n    //  reuse the existing text and rect elements for performance?\n    renderDimensionCells(group, matrixModel, ecModel);\n    createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel);\n    var borderZ2Option = matrixModel.getShallow('borderZ2', true);\n    var outerBorderZ2 = retrieve2(borderZ2Option, Z2_OUTER_BORDER);\n    var dividerLineZ2 = outerBorderZ2 - 1;\n    // Outer border and overall background. Use separate elements because of z-order:\n    // The overall background should appear below any other elements.\n    // But in most cases, the outer border and the divider line should be above the normal cell borders -\n    // especially when cell borders have different colors. But users may highlight some specific cells by\n    // overstirking their border, in which case it should be above the outer border.\n    var bgStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['borderWidth']);\n    bgStyle.lineWidth = 0;\n    var borderStyle = matrixModel.getModel('backgroundStyle').getItemStyle(['color', 'decal', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']);\n    borderStyle.fill = 'none';\n    var bgRect = createMatrixRect(rect.clone(), bgStyle, Z2_BACKGROUND);\n    var borderRect = createMatrixRect(rect.clone(), borderStyle, outerBorderZ2);\n    bgRect.silent = true;\n    borderRect.silent = true;\n    group.add(bgRect);\n    group.add(borderRect);\n    // Header split line.\n    var xDimCell0 = xDim.getUnitLayoutInfo(0, 0);\n    var yDimCell0 = yDim.getUnitLayoutInfo(1, 0);\n    if (xDimCell0 && yDimCell0) {\n      if (xDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: rect.x,\n          y1: yDimCell0.xy,\n          x2: rect.x + rect.width,\n          y2: yDimCell0.xy\n        }, xDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n      if (yDim.shouldShow()) {\n        group.add(createMatrixLine({\n          x1: xDimCell0.xy,\n          y1: rect.y,\n          x2: xDimCell0.xy,\n          y2: rect.y + rect.height\n        }, yDimModel.getModel('dividerLineStyle').getLineStyle(), dividerLineZ2));\n      }\n    }\n  };\n  MatrixView.type = 'matrix';\n  return MatrixView;\n}(ComponentView);\nfunction renderDimensionCells(group, matrixModel, ecModel) {\n  renderOnDimension(0);\n  renderOnDimension(1);\n  function renderOnDimension(dimIdx) {\n    var thisDimModel = matrixModel.getDimensionModel(XY[dimIdx]);\n    var thisDim = thisDimModel.dim;\n    if (!thisDim.shouldShow()) {\n      return;\n    }\n    var thisDimBgStyleModel = thisDimModel.getModel('itemStyle');\n    var thisDimLabelModel = thisDimModel.getModel('label');\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    var xyLocator = [];\n    for (var it_1 = thisDim.resetCellIterator(); it_1.next();) {\n      var dimCell = it_1.item;\n      var shape = {};\n      BoundingRect.copy(shape, dimCell.rect);\n      vectorUtil.set(xyLocator, dimCell.id.x, dimCell.id.y);\n      createMatrixCell(xyLocator, matrixModel, group, ecModel, dimCell.option, thisDimBgStyleModel, thisDimLabelModel, thisDimModel, shape, dimCell.option.value, Z2_DIMENSION_CELL_DEFAULT, tooltipOption);\n    }\n  }\n}\nfunction createBodyAndCorner(group, matrixModel, xDim, yDim, ecModel) {\n  createBodyOrCornerCells('body', matrixModel.getBody(), xDim, yDim);\n  if (xDim.shouldShow() && yDim.shouldShow()) {\n    createBodyOrCornerCells('corner', matrixModel.getCorner(), yDim, xDim);\n  }\n  function createBodyOrCornerCells(bodyCornerOptionRoot, bodyOrCorner, dimForCoordX,\n  // Can be `matrix.y` (transposed) for corners.\n  dimForCoordY) {\n    // Prevent inheriting from ancestor.\n    var parentCellModel = new Model(matrixModel.getShallow(bodyCornerOptionRoot, true));\n    var parentItemStyleModel = parentCellModel.getModel('itemStyle');\n    var parentLabelModel = parentCellModel.getModel('label');\n    var itx = new ListIterator();\n    var ity = new ListIterator();\n    var xyLocator = [];\n    var tooltipOption = matrixModel.getShallow('tooltip', true);\n    for (dimForCoordY.resetLayoutIterator(ity, 1); ity.next();) {\n      for (dimForCoordX.resetLayoutIterator(itx, 0); itx.next();) {\n        var xLayout = itx.item;\n        var yLayout = ity.item;\n        vectorUtil.set(xyLocator, xLayout.id.x, yLayout.id.y);\n        var bodyCornerCell = bodyOrCorner.getCell(xyLocator);\n        // If in span of an other body or corner cell, never render it.\n        if (bodyCornerCell && bodyCornerCell.inSpanOf && bodyCornerCell.inSpanOf !== bodyCornerCell) {\n          continue;\n        }\n        var shape = {};\n        if (bodyCornerCell && bodyCornerCell.span) {\n          BoundingRect.copy(shape, bodyCornerCell.spanRect);\n        } else {\n          xLayout.dim.getLayout(shape, 0, xyLocator[0]);\n          yLayout.dim.getLayout(shape, 1, xyLocator[1]);\n        }\n        var bodyCornerCellOption = bodyCornerCell ? bodyCornerCell.option : null;\n        createMatrixCell(xyLocator, matrixModel, group, ecModel, bodyCornerCellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, bodyCornerCellOption ? bodyCornerCellOption.value : null, Z2_BODY_CORNER_CELL_DEFAULT, tooltipOption);\n      }\n    }\n  } // End of createBodyOrCornerCells\n}\nfunction createMatrixCell(xyLocator, matrixModel, group, ecModel, cellOption, parentItemStyleModel, parentLabelModel, parentCellModel, shape, textValue, zrCellDefault, tooltipOption) {\n  var _a;\n  // Do not use getModel for handy performance optimization.\n  _tmpCellItemStyleModel.option = cellOption ? cellOption.itemStyle : null;\n  _tmpCellItemStyleModel.parentModel = parentItemStyleModel;\n  _tmpCellModel.option = cellOption;\n  _tmpCellModel.parentModel = parentCellModel;\n  // Use different z2 because special border may be defined in itemStyle.\n  var z2 = retrieve2(_tmpCellModel.getShallow('z2'), cellOption && cellOption.itemStyle ? zrCellDefault.special : zrCellDefault.normal);\n  var tooltipOptionShow = tooltipOption && tooltipOption.show;\n  var cellRect = createMatrixRect(shape, _tmpCellItemStyleModel.getItemStyle(), z2);\n  group.add(cellRect);\n  var cursorOption = _tmpCellModel.get('cursor');\n  if (cursorOption != null) {\n    cellRect.attr('cursor', cursorOption);\n  }\n  var cellText;\n  if (textValue != null) {\n    var text = textValue + '';\n    _tmpCellLabelModel.option = cellOption ? cellOption.label : null;\n    _tmpCellLabelModel.parentModel = parentLabelModel;\n    // This is to accept `option.textStyle` as the default.\n    _tmpCellLabelModel.ecModel = ecModel;\n    setLabelStyle(cellRect,\n    // Currently do not support other states (`emphasis`, `select`, `blur`)\n    {\n      normal: _tmpCellLabelModel\n    }, {\n      defaultText: text,\n      autoOverflowArea: true,\n      // By default based on boundingRect. But boundingRect contains borderWidth,\n      // and borderWidth is half outside the cell. Thus specific `layoutRect` explicitly.\n      layoutRect: clone(cellRect.shape)\n    });\n    cellText = cellRect.getTextContent();\n    if (cellText) {\n      cellText.z2 = z2 + 1;\n      var style = cellText.style;\n      if (style && style.overflow && style.overflow !== 'none' && style.lineOverflow) {\n        // `overflow: 'break'/'breakAll'/'truncate'` does not guarantee prevention of overflow\n        // when space is insufficient. Use a `clipPath` in such case.\n        var clipShape = {};\n        BoundingRect.copy(clipShape, shape);\n        // `lineWidth` is half outside half inside the bounding rect.\n        expandOrShrinkRect(clipShape, (((_a = cellRect.style) === null || _a === void 0 ? void 0 : _a.lineWidth) || 0) / 2, true, true);\n        cellRect.updateInnerText();\n        cellText.getLocalTransform(_tmpInnerTextTrans);\n        invert(_tmpInnerTextTrans, _tmpInnerTextTrans);\n        BoundingRect.applyTransform(clipShape, clipShape, _tmpInnerTextTrans);\n        cellText.setClipPath(new Rect({\n          shape: clipShape\n        }));\n      }\n    }\n    setTooltipConfig({\n      el: cellRect,\n      componentModel: matrixModel,\n      itemName: text,\n      itemTooltipOption: tooltipOption,\n      formatterParamsExtra: {\n        xyLocator: xyLocator.slice()\n      }\n    });\n  }\n  // Set silent\n  if (cellText) {\n    var labelSilent = _tmpCellLabelModel.get('silent');\n    // auto, tooltip of text cells need silient: false, but non-text cells\n    // do not need a special cursor in most cases.\n    if (labelSilent == null) {\n      labelSilent = !tooltipOptionShow;\n    }\n    cellText.silent = labelSilent;\n    cellText.ignoreHostSilent = true;\n  }\n  var rectSilent = _tmpCellModel.get('silent');\n  if (rectSilent == null) {\n    rectSilent =\n    // If no background color in cell, set `rect.silent: false` will cause that only\n    // the border response to mouse hovering, which is probably weird.\n    !cellRect.style || cellRect.style.fill === 'none' || !cellRect.style.fill;\n  }\n  cellRect.silent = rectSilent;\n  clearTmpModel(_tmpCellModel);\n  clearTmpModel(_tmpCellItemStyleModel);\n  clearTmpModel(_tmpCellLabelModel);\n}\nvar _tmpCellModel = new Model();\nvar _tmpCellItemStyleModel = new Model();\nvar _tmpCellLabelModel = new Model();\nvar _tmpInnerTextTrans = [];\n// FIXME: move all of the subpixel process to Matrix.ts resize, otherwise the result of\n// `dataToLayout` is not consistent with this rendering, and the caller (like heatmap) can\n// not precisely align with the matrix border.\nfunction createMatrixRect(shape, style, z2) {\n  // Currently `subPixelOptimizeRect` can not be used here because it will break rect alignment.\n  // Optimize line and rect with the same direction.\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    var x2Original = shape.x + shape.width;\n    var y2Original = shape.y + shape.height;\n    shape.x = subPixelOptimize(shape.x, lineWidth, true);\n    shape.y = subPixelOptimize(shape.y, lineWidth, true);\n    shape.width = subPixelOptimize(x2Original, lineWidth, true) - shape.x;\n    shape.height = subPixelOptimize(y2Original, lineWidth, true) - shape.y;\n  }\n  return new Rect({\n    shape: shape,\n    style: style,\n    z2: z2\n  });\n}\nfunction createMatrixLine(shape, style, z2) {\n  var lineWidth = style.lineWidth;\n  if (lineWidth) {\n    if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n      shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n    }\n    if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n      shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n    }\n  }\n  return new Line({\n    shape: shape,\n    style: style,\n    silent: true,\n    z2: z2\n  });\n}\nexport default MatrixView;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}