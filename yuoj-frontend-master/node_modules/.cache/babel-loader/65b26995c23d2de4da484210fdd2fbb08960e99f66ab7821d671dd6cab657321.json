{"ast":null,"code":"import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n  total() {},\n  worked() {},\n  done() {}\n});\nexport class Progress {\n  constructor(callback, opts) {\n    this.callback = callback;\n    this.report = (opts === null || opts === void 0 ? void 0 : opts.async) ? this._reportAsync.bind(this) : this._reportSync.bind(this);\n  }\n  _reportSync(item) {\n    this._value = item;\n    this.callback(this._value);\n  }\n  _reportAsync(item) {\n    Promise.resolve(this._lastTask).finally(() => {\n      this._value = item;\n      const r = this.callback(this._value);\n      this._lastTask = Promise.resolve(r).finally(() => this._lastTask = undefined);\n    });\n  }\n}\nProgress.None = Object.freeze({\n  report() {}\n});\nexport const IEditorProgressService = createDecorator('editorProgressService');","map":{"version":3,"names":["createDecorator","IProgressService","emptyProgressRunner","Object","freeze","total","worked","done","Progress","constructor","callback","opts","report","async","_reportAsync","bind","_reportSync","item","_value","Promise","resolve","_lastTask","finally","r","undefined","None","IEditorProgressService"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nexport class Progress {\n    constructor(callback, opts) {\n        this.callback = callback;\n        this.report = (opts === null || opts === void 0 ? void 0 : opts.async)\n            ? this._reportAsync.bind(this)\n            : this._reportSync.bind(this);\n    }\n    _reportSync(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n    _reportAsync(item) {\n        Promise.resolve(this._lastTask).finally(() => {\n            this._value = item;\n            const r = this.callback(this._value);\n            this._lastTask = Promise.resolve(r).finally(() => this._lastTask = undefined);\n        });\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport const IEditorProgressService = createDecorator('editorProgressService');\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,6CAA6C;AAC7E,OAAO,MAAMC,gBAAgB,GAAGD,eAAe,CAAC,iBAAiB,CAAC;AAClE,OAAO,MAAME,mBAAmB,GAAGC,MAAM,CAACC,MAAM,CAAC;EAC7CC,KAAKA,CAAA,EAAG,CAAE,CAAC;EACXC,MAAMA,CAAA,EAAG,CAAE,CAAC;EACZC,IAAIA,CAAA,EAAG,CAAE;AACb,CAAC,CAAC;AACF,OAAO,MAAMC,QAAQ,CAAC;EAClBC,WAAWA,CAACC,QAAQ,EAAEC,IAAI,EAAE;IACxB,IAAI,CAACD,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACE,MAAM,GAAG,CAACD,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACE,KAAK,IAC/D,IAAI,CAACC,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,GAC5B,IAAI,CAACC,WAAW,CAACD,IAAI,CAAC,IAAI,CAAC;EACrC;EACAC,WAAWA,CAACC,IAAI,EAAE;IACd,IAAI,CAACC,MAAM,GAAGD,IAAI;IAClB,IAAI,CAACP,QAAQ,CAAC,IAAI,CAACQ,MAAM,CAAC;EAC9B;EACAJ,YAAYA,CAACG,IAAI,EAAE;IACfE,OAAO,CAACC,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,CAACC,OAAO,CAAC,MAAM;MAC1C,IAAI,CAACJ,MAAM,GAAGD,IAAI;MAClB,MAAMM,CAAC,GAAG,IAAI,CAACb,QAAQ,CAAC,IAAI,CAACQ,MAAM,CAAC;MACpC,IAAI,CAACG,SAAS,GAAGF,OAAO,CAACC,OAAO,CAACG,CAAC,CAAC,CAACD,OAAO,CAAC,MAAM,IAAI,CAACD,SAAS,GAAGG,SAAS,CAAC;IACjF,CAAC,CAAC;EACN;AACJ;AACAhB,QAAQ,CAACiB,IAAI,GAAGtB,MAAM,CAACC,MAAM,CAAC;EAAEQ,MAAMA,CAAA,EAAG,CAAE;AAAE,CAAC,CAAC;AAC/C,OAAO,MAAMc,sBAAsB,GAAG1B,eAAe,CAAC,uBAAuB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}