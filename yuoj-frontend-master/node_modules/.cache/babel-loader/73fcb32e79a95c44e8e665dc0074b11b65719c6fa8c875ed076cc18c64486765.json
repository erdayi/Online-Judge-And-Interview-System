{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class TreeElement {\n  remove() {\n    var _a;\n    (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children.delete(this.id);\n  }\n  static findId(candidate, container) {\n    // complex id-computation which contains the origin/extension,\n    // the parent path, and some dedupe logic when names collide\n    let candidateId;\n    if (typeof candidate === 'string') {\n      candidateId = `${container.id}/${candidate}`;\n    } else {\n      candidateId = `${container.id}/${candidate.name}`;\n      if (container.children.get(candidateId) !== undefined) {\n        candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;\n      }\n    }\n    let id = candidateId;\n    for (let i = 0; container.children.get(id) !== undefined; i++) {\n      id = `${candidateId}_${i}`;\n    }\n    return id;\n  }\n  static empty(element) {\n    return element.children.size === 0;\n  }\n}\nexport class OutlineElement extends TreeElement {\n  constructor(id, parent, symbol) {\n    super();\n    this.id = id;\n    this.parent = parent;\n    this.symbol = symbol;\n    this.children = new Map();\n  }\n}\nexport class OutlineGroup extends TreeElement {\n  constructor(id, parent, label, order) {\n    super();\n    this.id = id;\n    this.parent = parent;\n    this.label = label;\n    this.order = order;\n    this.children = new Map();\n  }\n}\nexport class OutlineModel extends TreeElement {\n  static create(registry, textModel, token) {\n    const cts = new CancellationTokenSource(token);\n    const result = new OutlineModel(textModel.uri);\n    const provider = registry.ordered(textModel);\n    const promises = provider.map((provider, index) => {\n      var _a;\n      const id = TreeElement.findId(`provider_${index}`, result);\n      const group = new OutlineGroup(id, result, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);\n      return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(result => {\n        for (const info of result || []) {\n          OutlineModel._makeOutlineElement(info, group);\n        }\n        return group;\n      }, err => {\n        onUnexpectedExternalError(err);\n        return group;\n      }).then(group => {\n        if (!TreeElement.empty(group)) {\n          result._groups.set(id, group);\n        } else {\n          group.remove();\n        }\n      });\n    });\n    const listener = registry.onDidChange(() => {\n      const newProvider = registry.ordered(textModel);\n      if (!equals(newProvider, provider)) {\n        cts.cancel();\n      }\n    });\n    return Promise.all(promises).then(() => {\n      if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n        return OutlineModel.create(registry, textModel, token);\n      } else {\n        return result._compact();\n      }\n    }).finally(() => {\n      listener.dispose();\n    });\n  }\n  static _makeOutlineElement(info, container) {\n    const id = TreeElement.findId(info, container);\n    const res = new OutlineElement(id, container, info);\n    if (info.children) {\n      for (const childInfo of info.children) {\n        OutlineModel._makeOutlineElement(childInfo, res);\n      }\n    }\n    container.children.set(res.id, res);\n  }\n  constructor(uri) {\n    super();\n    this.uri = uri;\n    this.id = 'root';\n    this.parent = undefined;\n    this._groups = new Map();\n    this.children = new Map();\n    this.id = 'root';\n    this.parent = undefined;\n  }\n  _compact() {\n    let count = 0;\n    for (const [key, group] of this._groups) {\n      if (group.children.size === 0) {\n        // empty\n        this._groups.delete(key);\n      } else {\n        count += 1;\n      }\n    }\n    if (count !== 1) {\n      //\n      this.children = this._groups;\n    } else {\n      // adopt all elements of the first group\n      const group = Iterable.first(this._groups.values());\n      for (const [, child] of group.children) {\n        child.parent = this;\n        this.children.set(child.id, child);\n      }\n    }\n    return this;\n  }\n  getTopLevelSymbols() {\n    const roots = [];\n    for (const child of this.children.values()) {\n      if (child instanceof OutlineElement) {\n        roots.push(child.symbol);\n      } else {\n        roots.push(...Iterable.map(child.children.values(), child => child.symbol));\n      }\n    }\n    return roots.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n  }\n  asListOfDocumentSymbols() {\n    const roots = this.getTopLevelSymbols();\n    const bucket = [];\n    OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n    return bucket.sort((a, b) => Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range)));\n  }\n  static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n    for (const entry of entries) {\n      bucket.push({\n        kind: entry.kind,\n        tags: entry.tags,\n        name: entry.name,\n        detail: entry.detail,\n        containerName: entry.containerName || overrideContainerLabel,\n        range: entry.range,\n        selectionRange: entry.selectionRange,\n        children: undefined // we flatten it...\n      });\n      // Recurse over children\n      if (entry.children) {\n        OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n      }\n    }\n  }\n}\nexport const IOutlineModelService = createDecorator('IOutlineModelService');\nlet OutlineModelService = class OutlineModelService {\n  constructor(_languageFeaturesService, debounces, modelService) {\n    this._languageFeaturesService = _languageFeaturesService;\n    this._disposables = new DisposableStore();\n    this._cache = new LRUCache(10, 0.7);\n    this._debounceInformation = debounces.for(_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', {\n      min: 350\n    });\n    // don't cache outline models longer than their text model\n    this._disposables.add(modelService.onModelRemoved(textModel => {\n      this._cache.delete(textModel.id);\n    }));\n  }\n  dispose() {\n    this._disposables.dispose();\n  }\n  getOrCreate(textModel, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const registry = this._languageFeaturesService.documentSymbolProvider;\n      const provider = registry.ordered(textModel);\n      let data = this._cache.get(textModel.id);\n      if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n        const source = new CancellationTokenSource();\n        data = {\n          versionId: textModel.getVersionId(),\n          provider,\n          promiseCnt: 0,\n          source,\n          promise: OutlineModel.create(registry, textModel, source.token),\n          model: undefined\n        };\n        this._cache.set(textModel.id, data);\n        const now = Date.now();\n        data.promise.then(outlineModel => {\n          data.model = outlineModel;\n          this._debounceInformation.update(textModel, Date.now() - now);\n        }).catch(_err => {\n          this._cache.delete(textModel.id);\n        });\n      }\n      if (data.model) {\n        // resolved -> return data\n        return data.model;\n      }\n      // increase usage counter\n      data.promiseCnt += 1;\n      const listener = token.onCancellationRequested(() => {\n        // last -> cancel provider request, remove cached promise\n        if (--data.promiseCnt === 0) {\n          data.source.cancel();\n          this._cache.delete(textModel.id);\n        }\n      });\n      try {\n        return yield data.promise;\n      } finally {\n        listener.dispose();\n      }\n    });\n  }\n};\nOutlineModelService = __decorate([__param(0, ILanguageFeaturesService), __param(1, ILanguageFeatureDebounceService), __param(2, IModelService)], OutlineModelService);\nexport { OutlineModelService };\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","equals","CancellationTokenSource","onUnexpectedExternalError","Iterable","LRUCache","Position","Range","ILanguageFeatureDebounceService","createDecorator","registerSingleton","IModelService","DisposableStore","ILanguageFeaturesService","TreeElement","remove","_a","parent","children","delete","id","findId","candidate","container","candidateId","name","get","undefined","range","startLineNumber","startColumn","empty","element","size","OutlineElement","constructor","symbol","Map","OutlineGroup","label","order","OutlineModel","create","registry","textModel","token","cts","uri","provider","ordered","promises","map","index","group","displayName","provideDocumentSymbols","info","_makeOutlineElement","err","_groups","set","listener","onDidChange","newProvider","cancel","all","isCancellationRequested","_compact","finally","dispose","res","childInfo","count","first","values","child","getTopLevelSymbols","roots","push","sort","a","b","compareRangesUsingStarts","asListOfDocumentSymbols","bucket","_flattenDocumentSymbols","compare","getStartPosition","getEndPosition","entries","overrideContainerLabel","entry","kind","tags","detail","containerName","selectionRange","IOutlineModelService","OutlineModelService","_languageFeaturesService","debounces","modelService","_disposables","_cache","_debounceInformation","for","documentSymbolProvider","min","add","onModelRemoved","getOrCreate","data","versionId","getVersionId","source","promiseCnt","promise","model","now","Date","outlineModel","update","catch","_err","onCancellationRequested"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/outlineModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class TreeElement {\n    remove() {\n        var _a;\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children.delete(this.id);\n    }\n    static findId(candidate, container) {\n        // complex id-computation which contains the origin/extension,\n        // the parent path, and some dedupe logic when names collide\n        let candidateId;\n        if (typeof candidate === 'string') {\n            candidateId = `${container.id}/${candidate}`;\n        }\n        else {\n            candidateId = `${container.id}/${candidate.name}`;\n            if (container.children.get(candidateId) !== undefined) {\n                candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;\n            }\n        }\n        let id = candidateId;\n        for (let i = 0; container.children.get(id) !== undefined; i++) {\n            id = `${candidateId}_${i}`;\n        }\n        return id;\n    }\n    static empty(element) {\n        return element.children.size === 0;\n    }\n}\nexport class OutlineElement extends TreeElement {\n    constructor(id, parent, symbol) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.symbol = symbol;\n        this.children = new Map();\n    }\n}\nexport class OutlineGroup extends TreeElement {\n    constructor(id, parent, label, order) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.label = label;\n        this.order = order;\n        this.children = new Map();\n    }\n}\nexport class OutlineModel extends TreeElement {\n    static create(registry, textModel, token) {\n        const cts = new CancellationTokenSource(token);\n        const result = new OutlineModel(textModel.uri);\n        const provider = registry.ordered(textModel);\n        const promises = provider.map((provider, index) => {\n            var _a;\n            const id = TreeElement.findId(`provider_${index}`, result);\n            const group = new OutlineGroup(id, result, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);\n            return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(result => {\n                for (const info of result || []) {\n                    OutlineModel._makeOutlineElement(info, group);\n                }\n                return group;\n            }, err => {\n                onUnexpectedExternalError(err);\n                return group;\n            }).then(group => {\n                if (!TreeElement.empty(group)) {\n                    result._groups.set(id, group);\n                }\n                else {\n                    group.remove();\n                }\n            });\n        });\n        const listener = registry.onDidChange(() => {\n            const newProvider = registry.ordered(textModel);\n            if (!equals(newProvider, provider)) {\n                cts.cancel();\n            }\n        });\n        return Promise.all(promises).then(() => {\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n                return OutlineModel.create(registry, textModel, token);\n            }\n            else {\n                return result._compact();\n            }\n        }).finally(() => {\n            listener.dispose();\n        });\n    }\n    static _makeOutlineElement(info, container) {\n        const id = TreeElement.findId(info, container);\n        const res = new OutlineElement(id, container, info);\n        if (info.children) {\n            for (const childInfo of info.children) {\n                OutlineModel._makeOutlineElement(childInfo, res);\n            }\n        }\n        container.children.set(res.id, res);\n    }\n    constructor(uri) {\n        super();\n        this.uri = uri;\n        this.id = 'root';\n        this.parent = undefined;\n        this._groups = new Map();\n        this.children = new Map();\n        this.id = 'root';\n        this.parent = undefined;\n    }\n    _compact() {\n        let count = 0;\n        for (const [key, group] of this._groups) {\n            if (group.children.size === 0) { // empty\n                this._groups.delete(key);\n            }\n            else {\n                count += 1;\n            }\n        }\n        if (count !== 1) {\n            //\n            this.children = this._groups;\n        }\n        else {\n            // adopt all elements of the first group\n            const group = Iterable.first(this._groups.values());\n            for (const [, child] of group.children) {\n                child.parent = this;\n                this.children.set(child.id, child);\n            }\n        }\n        return this;\n    }\n    getTopLevelSymbols() {\n        const roots = [];\n        for (const child of this.children.values()) {\n            if (child instanceof OutlineElement) {\n                roots.push(child.symbol);\n            }\n            else {\n                roots.push(...Iterable.map(child.children.values(), child => child.symbol));\n            }\n        }\n        return roots.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n    }\n    asListOfDocumentSymbols() {\n        const roots = this.getTopLevelSymbols();\n        const bucket = [];\n        OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n        return bucket.sort((a, b) => Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range)));\n    }\n    static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n        for (const entry of entries) {\n            bucket.push({\n                kind: entry.kind,\n                tags: entry.tags,\n                name: entry.name,\n                detail: entry.detail,\n                containerName: entry.containerName || overrideContainerLabel,\n                range: entry.range,\n                selectionRange: entry.selectionRange,\n                children: undefined, // we flatten it...\n            });\n            // Recurse over children\n            if (entry.children) {\n                OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n            }\n        }\n    }\n}\nexport const IOutlineModelService = createDecorator('IOutlineModelService');\nlet OutlineModelService = class OutlineModelService {\n    constructor(_languageFeaturesService, debounces, modelService) {\n        this._languageFeaturesService = _languageFeaturesService;\n        this._disposables = new DisposableStore();\n        this._cache = new LRUCache(10, 0.7);\n        this._debounceInformation = debounces.for(_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', { min: 350 });\n        // don't cache outline models longer than their text model\n        this._disposables.add(modelService.onModelRemoved(textModel => {\n            this._cache.delete(textModel.id);\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    getOrCreate(textModel, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const registry = this._languageFeaturesService.documentSymbolProvider;\n            const provider = registry.ordered(textModel);\n            let data = this._cache.get(textModel.id);\n            if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n                const source = new CancellationTokenSource();\n                data = {\n                    versionId: textModel.getVersionId(),\n                    provider,\n                    promiseCnt: 0,\n                    source,\n                    promise: OutlineModel.create(registry, textModel, source.token),\n                    model: undefined,\n                };\n                this._cache.set(textModel.id, data);\n                const now = Date.now();\n                data.promise.then(outlineModel => {\n                    data.model = outlineModel;\n                    this._debounceInformation.update(textModel, Date.now() - now);\n                }).catch(_err => {\n                    this._cache.delete(textModel.id);\n                });\n            }\n            if (data.model) {\n                // resolved -> return data\n                return data.model;\n            }\n            // increase usage counter\n            data.promiseCnt += 1;\n            const listener = token.onCancellationRequested(() => {\n                // last -> cancel provider request, remove cached promise\n                if (--data.promiseCnt === 0) {\n                    data.source.cancel();\n                    this._cache.delete(textModel.id);\n                }\n            });\n            try {\n                return yield data.promise;\n            }\n            finally {\n                listener.dispose();\n            }\n        });\n    }\n};\nOutlineModelService = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, ILanguageFeatureDebounceService),\n    __param(2, IModelService)\n], OutlineModelService);\nexport { OutlineModelService };\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}