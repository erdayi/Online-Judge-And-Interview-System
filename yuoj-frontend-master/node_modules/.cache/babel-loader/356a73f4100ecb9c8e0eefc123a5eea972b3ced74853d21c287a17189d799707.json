{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { registerLegacyGridContainLabelImpl } from './Grid.js';\nimport OrdinalScale from '../../scale/Ordinal.js';\nimport { makeLabelFormatter } from '../axisHelper.js';\n/**\n * [CAUTION] Never export methods other than `installLegacyGridContainLabel`.\n */\nexport function installLegacyGridContainLabel() {\n  registerLegacyGridContainLabelImpl(legacyLayOutGridByContained);\n}\n/**\n * The input gridRect and axes will be modified.\n */\nfunction legacyLayOutGridByContained(axesList, gridRect) {\n  each(axesList, function (axis) {\n    if (!axis.model.get(['axisLabel', 'inside'])) {\n      var labelUnionRect = estimateLabelUnionRect(axis);\n      if (labelUnionRect) {\n        var dim = axis.isHorizontal() ? 'height' : 'width';\n        var margin = axis.model.get(['axisLabel', 'margin']);\n        gridRect[dim] -= labelUnionRect[dim] + margin;\n        if (axis.position === 'top') {\n          gridRect.y += labelUnionRect.height + margin;\n        } else if (axis.position === 'left') {\n          gridRect.x += labelUnionRect.width + margin;\n        }\n      }\n    }\n  });\n}\n/**\n * @return Be null/undefined if no labels.\n */\nfunction estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent();\n  // Optimize for large category data, avoid call `getTicks()`.\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1;\n  // Simple optimization for large amount of category labels\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n  return rect;\n  function rotateTextRect(textRect, rotate) {\n    var rotateRadians = rotate * Math.PI / 180;\n    var beforeWidth = textRect.width;\n    var beforeHeight = textRect.height;\n    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n    var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n    return rotatedRect;\n  }\n}","map":{"version":3,"names":["BoundingRect","each","registerLegacyGridContainLabelImpl","OrdinalScale","makeLabelFormatter","installLegacyGridContainLabel","legacyLayOutGridByContained","axesList","gridRect","axis","model","get","labelUnionRect","estimateLabelUnionRect","dim","isHorizontal","margin","position","y","height","x","width","axisModel","scale","isBlank","realNumberScaleTicks","tickCount","categoryScaleExtent","getExtent","count","getTicks","length","axisLabelModel","getLabelModel","labelFormatter","rect","step","Math","ceil","i","tick","value","label","unrotatedSingleRect","getTextRect","singleRect","rotateTextRect","union","textRect","rotate","rotateRadians","PI","beforeWidth","beforeHeight","afterWidth","abs","cos","sin","afterHeight","rotatedRect"],"sources":["D:/code/java/program/oj/code/yuoj-frontend-master/node_modules/echarts/lib/coord/cartesian/legacyContainLabel.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { registerLegacyGridContainLabelImpl } from './Grid.js';\nimport OrdinalScale from '../../scale/Ordinal.js';\nimport { makeLabelFormatter } from '../axisHelper.js';\n/**\n * [CAUTION] Never export methods other than `installLegacyGridContainLabel`.\n */\nexport function installLegacyGridContainLabel() {\n  registerLegacyGridContainLabelImpl(legacyLayOutGridByContained);\n}\n/**\n * The input gridRect and axes will be modified.\n */\nfunction legacyLayOutGridByContained(axesList, gridRect) {\n  each(axesList, function (axis) {\n    if (!axis.model.get(['axisLabel', 'inside'])) {\n      var labelUnionRect = estimateLabelUnionRect(axis);\n      if (labelUnionRect) {\n        var dim = axis.isHorizontal() ? 'height' : 'width';\n        var margin = axis.model.get(['axisLabel', 'margin']);\n        gridRect[dim] -= labelUnionRect[dim] + margin;\n        if (axis.position === 'top') {\n          gridRect.y += labelUnionRect.height + margin;\n        } else if (axis.position === 'left') {\n          gridRect.x += labelUnionRect.width + margin;\n        }\n      }\n    }\n  });\n}\n/**\n * @return Be null/undefined if no labels.\n */\nfunction estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent();\n  // Optimize for large category data, avoid call `getTicks()`.\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1;\n  // Simple optimization for large amount of category labels\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n  return rect;\n  function rotateTextRect(textRect, rotate) {\n    var rotateRadians = rotate * Math.PI / 180;\n    var beforeWidth = textRect.width;\n    var beforeHeight = textRect.height;\n    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n    var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n    return rotatedRect;\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}